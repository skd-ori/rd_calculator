# RD 計算機 (Web 版) 実装計画

## 概要

「イナズマイレブン 英雄たちのヴィクトリーロード」の RD 計算および勝率判定を行う単一 HTML アプリケーションを作成する。
基本の RD 計算に加え、ステータス（キック、テクニック等）から「フォーカス AT」「フォーカス DF」等の実数値を算出する機能を含める。
GitHub Pages での公開を想定し、単一の`index.html`として実装する。

### 1. 実数値（トータルパワー）の算出

ユーザー提供の計算式に基づき、各ステータスから実数値を算出するモードを搭載する。
技威力（必殺技）は以下のロジックに基づき、ボタン選択式で決定する（Excel 数式より）。

**技威力算出ロジック**

- **威力 30**: 115 (固定)
- **威力 50**: 1:175, 2:192, 3:210, 4:227, 5:245, 6:262
- **威力 60**: 1:210, 2:231, 3:252, 4:273, 5:294, 6:315
- **威力 70**: 1:255, 2:280, 3:306, 4:331, 5:357, 6:382
- **威力 85**: 1:312, 2:343, 3:374, 4:405, 5:436, 6:468
- **威力 100**: 1:370, 2:407, 3:444, 4:481, 5:518, 6:555

※進化段階: 1(無), 2(V2/G2), 3(V3/G3), 4(V4/G4), 5(A/GX), 6(∞/GO)

**計算式**

- **シュート AT**: `キック + コントロール`
- **フォーカス AT**: `(キック / 2) + テクニック + コントロール`
- **フォーカス DF**: `テクニック + インテリジェンス + (アジリティ / 2)`
- **城壁 DF**: `プレッシャー + フィジカル`
- **KP**: `(プレッシャー * 2) + (フィジカル * 3) + (アジリティ * 4)`
- **スクランブル AT**: `インテリジェンス + フィジカル`
- **スクランブル DF**: `インテリジェンス + プレッシャー`

※計算結果の小数点以下の扱いは明記がないため、一旦「切り捨て」または「そのまま計算」とするが、通常のゲーム仕様では切り捨てが一般的。今回は Javascript の計算精度に任せ、表示時に整数丸めを行う。

### 2. 補正倍率の算出

パッシブ値は 100%（基準値）に加算される。

- 攻撃倍率 = `(100 + 攻撃パッシブ値) / 100`
- 防御倍率 = `(100 + 防御パッシブ値) / 100`

### 2. 最終合計値の算出

実数値に補正倍率を掛ける。

- 攻撃側最終値 ($a$) = `攻撃実数値 * 攻撃倍率`
- 防御側最終値 ($b$) = `防御実数値 * 防御倍率`

### 3. RD（割合差）の算出

- $RD = \frac{|a - b|}{a + b} \times 100$

### 4. 勝率判定

RD 値に基づき、AT（攻撃側）の勝率を算出する。

| RD 値   | AT 側勝率  | 備考                 |
| ------- | ---------- | -------------------- |
| 0%      | 40%        |                      |
| 14.6%   | 55%        |                      |
| 15%以上 | 100% or 0% | 数値が大きい方が勝つ |

**補間ロジック (0% < RD < 14.6%)**:
線形補間を行う。
$$ 勝率 = 40 + RD \times \frac{15}{14.6} $$

## 出力形式

指定された以下のフォーマットに従う。

```text
■計算結果
・攻撃側最終値：[a] (実数:[数値] × 倍率:[補正倍率])
・防御側最終値：[b] (実数:[数値] × 倍率:[補正倍率])
・RD（割合差）：[数値]%

■判定
・攻撃側（AT）の推定勝率：[数値]%
・予測：[判定結果]
```

## 実装ファイル構成

- `docs/rd_calculator/index.html` (HTML, CSS, JS を全て含む)

## UI 構成

1. **モード選択**: 計算タイプを選択（直接入力 / フォーカス計算 / その他）
2. **ステータス入力エリア**:
   - 各種ステータス
   - **技威力選択バネル**:
     - ベース威力ボタン (30, 50, 60, 70, 85, 100)
     - 進化段階ボタン (G1〜GO)
   - パッシブ補正
3. **計算実行ボタン**
4. **結果表示エリア**:
   - 算出された実数値
   - RD
   - 勝率予測
